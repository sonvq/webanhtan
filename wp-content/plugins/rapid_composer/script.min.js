window.bt_rc_map={};window.bt_rc_map_primary={};window.bt_rc_map_secondary={};(function(t){t(document).ready(function(){window.bt_rc_mouse={};window.bt_rc_drag_item=null;if(t("#bt_rc").length>0){if(window.bt_rc_data.children.length>0){if(window.bt_rc_map[window.bt_rc_data.children[0].base]===undefined||window.bt_rc_map[window.bt_rc_data.children[0].base].root!==true){window.bt_rc_data.children=[];window.bt_rc.is_rc_content=false}}}if(t("#postdivrich").length>0&&t("#bt_rc").length>0){t("#postdivrich").before('<div id="bt_rc_editor_toolbar"><button type="button" class="button bt_rc_switch_editor">'+window.bt_rc_text.switch_editor+"</button></div>");if(window.bt_rc.is_rc_content){window.bt_rc.editor="rc";t("#postdivrich").addClass("bt_rc_hidden");t("#bt_rc_editor_toolbar").addClass("bt_rc_is_rc_editor");t("#rapid_composer_sectionid").show()}else{window.bt_rc.editor="wp"}}t("#publish, #post-preview, #save-post").on("click",function(t){if(window.bt_rc.editor=="rc"){window.bt_rc_action="update_wp_editor";bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")}});window.bt_rc_item_mousedown=function(){t(".bt_rc_item").each(function(){t(this).unbind("mousedown");t(this).on("mousedown",function(_){_.stopPropagation();var i=this.getBoundingClientRect();var r=_.clientX-i.left;var o=_.clientY-i.top;window.bt_rc_mouse.initOffsetX=r;window.bt_rc_mouse.initOffsetY=o;window.bt_rc_action=null;window.bt_rc_drag_item=t(this);t(".bt_rc_toolbar_tools_visible").removeClass("bt_rc_toolbar_tools_visible");var e=t(this).parent()[0].getBoundingClientRect();t(this).parent().css("height",e["height"]);t(this).parent().addClass("bt_rc_wrap_drag");t(this).addClass("bt_rc_drag");t(this).find(".bt_rc_horizontal").css("height","auto");t(this).find(".bt_rc_width .bt_rc_item").css("height","auto");t(this).css("width",t(this).width());if(!t(this).hasClass("bt_rc_toggle")){e=t(this)[0].getBoundingClientRect();t(this).css("height",e["height"])}t(this).css("position","fixed");t(this).css("zIndex","100000");t(this).css("opacity",window.bt_rc_drag_opacity);t(this).css("top",bt_rc_mouse.y-bt_rc_mouse.initOffsetY);t(this).css("left",bt_rc_mouse.x-bt_rc_mouse.initOffsetX)})})};bt_rc_item_mousedown();window.bt_rc_dialog_header_mousedown=function(_){window.bt_rc_drag_dialog=true;t("body").css("cursor","default");t("body").addClass("bt_rc_no_select");window.bt_rc_dialog_init_left=parseFloat(t("#bt_rc_dialog").css("left"));var i=t("#bt_rc_dialog")[0].getBoundingClientRect();var r=_.clientX-i.left;var o=_.clientY-i.top;window.bt_rc_mouse.initOffsetX=r;window.bt_rc_mouse.initOffsetY=o};t(document).mouseup(function(_){t(".bt_rc_marker").removeClass("bt_rc_marker");if(window.bt_rc_drag_item!=null){window.bt_rc_dialog.hide();t(".bt_rc_toolbar_tools").css("opacity","");if(window.bt_rc_action!=null&&window.bt_rc_action.startsWith("move")){window.bt_rc_ctrl=_.ctrlKey;bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")}window.bt_rc_drag_item.parent().css("height","");window.bt_rc_drag_item.parent().removeClass("bt_rc_wrap_drag");window.bt_rc_drag_item.removeClass("bt_rc_drag");window.bt_rc_drag_item.find(".bt_rc_horizontal").css("height","");window.bt_rc_drag_item.find(".bt_rc_width .bt_rc_item").css("height","");window.bt_rc_drag_item.css("position","");window.bt_rc_drag_item.css("zIndex","");window.bt_rc_drag_item.css("opacity","");window.bt_rc_drag_item.css("width","");if(!window.bt_rc_drag_item.hasClass("bt_rc_toggle")){window.bt_rc_drag_item.css("height","")}window.bt_rc_drag_item.css("top","");window.bt_rc_drag_item.css("left","")}window.bt_rc_drag_item=null;if(window.bt_rc_drag_dialog){window.bt_rc_drag_dialog=false;t("body").css("cursor","");t("body").removeClass("bt_rc_no_select");t("#bt_rc_dialog").dialogOnScreen()}});t(document).mousemove(function(_){bt_rc_mouse.x=_.clientX;bt_rc_mouse.y=_.clientY;if(window.bt_rc_drag_item!=null){window.bt_rc_drag_item.css("top",bt_rc_mouse.y-bt_rc_mouse.initOffsetY);window.bt_rc_drag_item.css("left",bt_rc_mouse.x-bt_rc_mouse.initOffsetX);var i=bt_rc_get_action();t(".bt_rc_marker").removeClass("bt_rc_marker bt_rc_marker_up bt_rc_marker_down bt_rc_marker_left bt_rc_marker_right bt_rc_marker_inside");if(window.bt_rc_action!=null){if(i[1]=="up"){i[0].addClass("bt_rc_marker bt_rc_marker_up")}else if(i[1]=="down"){i[0].addClass("bt_rc_marker bt_rc_marker_down")}else if(i[1]=="left"){i[0].addClass("bt_rc_marker bt_rc_marker_left")}else if(i[1]=="right"){i[0].addClass("bt_rc_marker bt_rc_marker_right")}else if(i[1]=="inside"){i[0].addClass("bt_rc_marker bt_rc_marker_inside")}}}else if(window.bt_rc_drag_dialog){t("#bt_rc_dialog").css("left",bt_rc_mouse.x-bt_rc_mouse.initOffsetX);t("#bt_rc_dialog").css("top",bt_rc_mouse.y-bt_rc_mouse.initOffsetY)}});t(document).on("mouseover","#bt_rc_dialog",function(_){_.stopPropagation();window.bt_rc_dialog.is_mouseover=true;t(".bt_rc_toolbar_tools_visible").removeClass("bt_rc_toolbar_tools_visible")});t(document).on("mouseleave","#bt_rc_dialog",function(t){window.bt_rc_dialog.is_mouseover=false});t("#rapid_composer_sectionid > .handlediv.button-link").click(function(t){setTimeout(function(){bt_rc_horizontal_responsive()},100)});t("#bt_rc_add_root i").click(function(t){t.preventDefault();window.bt_rc_dialog.hide();window.bt_rc_action="add_root";bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")});t("#bt_rc_main_toolbar .fa-undo").click(function(t){bt_rc_undo()});t("#bt_rc_main_toolbar .fa-repeat").click(function(t){bt_rc_redo()});t("#bt_rc_main_toolbar .fa-paste").click(function(t){bt_rc_paste_main_toolbar()});t("#bt_rc_main_toolbar .fa-exchange").click(function(t){window.bt_rc_dialog.hide();window.bt_rc_dialog.show("manage_cb")});t("#bt_rc_main_toolbar .bt_rc_sc_mapper").click(function(t){window.bt_rc_dialog.hide();window.bt_rc_dialog.show("sc_mapper")});t("#bt_rc_editor_toolbar .bt_rc_switch_editor").click(function(_){if(window.bt_rc.editor=="rc"){window.bt_rc.editor="wp";window.bt_rc_action="update_wp_editor";bt_rc_dispatch(".bt_rc_item_list","bt_rc_event");t("#postdivrich").removeClass("bt_rc_hidden");t("#rapid_composer_sectionid").hide();t("#postdivrich").hide().show(0);t(this).parent().removeClass("bt_rc_is_rc_editor")}else{if(confirm(window.bt_rc_text.switch_editor_confirm)){window.bt_rc.editor="rc";t("#postdivrich").addClass("bt_rc_hidden");t("#rapid_composer_sectionid").show(0);t(this).parent().addClass("bt_rc_is_rc_editor")}}});t("#bt_rc_main_toolbar .fa-binoculars").click(function(_){t("#post-preview").click()});t("#bt_rc_main_toolbar .fa-upload").click(function(_){t("#publish").click()});window.bt_rc_toolbar=function(){t(".bt_rc_toolbar").unbind("mouseover");t(".bt_rc_toolbar").unbind("mouseout");t(".bt_rc_toolbar span").unbind("mousedown");t(".bt_rc_toolbar span").unbind("click");t(".bt_rc_toolbar_tools span").mousedown(function(t){t.stopPropagation()});t(".bt_rc_toolbar .bt_rc_toggle_button").click(function(_){if(t(this).closest(".bt_rc_item").hasClass("bt_rc_toggle")){t(this).closest(".bt_rc_item").removeClass("bt_rc_toggle");t(this).closest(".bt_rc_item").css("height","");t(this).find(".fa").removeClass("fa-expand").addClass("fa-compress")}else{t(this).closest(".bt_rc_item").addClass("bt_rc_toggle");t(this).closest(".bt_rc_item").css("height",t(this).parent().height()+window.bt_rc.padding*2);t(this).find(".fa").removeClass("fa-compress").addClass("fa-expand")}});t(".bt_rc_toolbar .bt_rc_delete").click(function(_){window.bt_rc_action="delete";window.bt_rc_from=t(this).closest(".bt_rc_item").parent().data("reactid");bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")});t(".bt_rc_toolbar .bt_rc_add").click(function(_){_.preventDefault();window.bt_rc_dialog.hide();if(t(this).closest(".bt_rc_item").data("container")=="horizontal"){window.bt_rc_action="add_horizontal"}else{window.bt_rc_action="add"}window.bt_rc_from=t(this).closest(".bt_rc_item").parent().data("reactid");window.bt_rc_base=t(this).closest(".bt_rc_item").data("base");bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")});t(".bt_rc_toolbar .bt_rc_edit").click(function(_){_.preventDefault();window.bt_rc_dialog.hide();window.bt_rc_action="edit";window.bt_rc_from=t(this).closest(".bt_rc_item").parent().data("reactid");window.bt_rc_base=t(this).closest(".bt_rc_item").data("base");bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")});t(".bt_rc_toolbar .bt_rc_clone").click(function(_){_.preventDefault();window.bt_rc_action="clone";window.bt_rc_from=t(this).closest(".bt_rc_item").parent().data("reactid");bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")});t(".bt_rc_toolbar .bt_rc_copy").click(function(_){_.preventDefault();window.bt_rc_action="copy";window.bt_rc_from=t(this).closest(".bt_rc_item").parent().data("reactid");bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")});t(".bt_rc_toolbar .bt_rc_copy_plus").click(function(_){_.preventDefault();window.bt_rc_action="copy_plus";window.bt_rc_from=t(this).closest(".bt_rc_item").parent().data("reactid");bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")});t(".bt_rc_toolbar .bt_rc_paste").click(function(_){_.preventDefault();window.bt_rc_action="paste";window.bt_rc_from=t(this).closest(".bt_rc_item").parent().data("reactid");bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")});t(".bt_rc_toolbar_tools").hide()};window.bt_rc_toolbar();window.bt_rc_init_number_items();t(document).keydown(function(_){if(t("#bt_rc_dialog").css("visibility")=="hidden"){if(_.key=="t"){t(".bt_rc_toolbar_tools:visible").find(".bt_rc_toggle_button").click()}else if(_.key=="a"){t(".bt_rc_toolbar_tools:visible").find(".bt_rc_add").click()}else if(_.key=="e"){t(".bt_rc_toolbar_tools:visible").find(".bt_rc_edit").click()}else if(_.key=="d"){t(".bt_rc_toolbar_tools:visible").find(".bt_rc_clone").click()}else if(_.key=="c"){t(".bt_rc_toolbar_tools:visible").find(".bt_rc_copy").click()}else if(_.key=="f"){t(".bt_rc_toolbar_tools:visible").find(".bt_rc_copy_plus").click()}else if(_.key=="v"){t(".bt_rc_toolbar_tools:visible").find(".bt_rc_paste").click()}else if(_.key=="x"){t(".bt_rc_toolbar_tools:visible").find(".bt_rc_delete").click()}}if(_.key=="Escape"){t(".bt_rc_dialog_close").click()}});t(window).focus(function(){});t(window).blur(function(){});window.bt_rc_init_dialog()});window.bt_rc_get_action=function(){var _=bt_rc_mouse.x;var i=bt_rc_mouse.y;window.bt_rc_action=null;var r=null;var o=null;if(!bt_rc_point_coll(bt_rc_drag_item.parent(),_,i)){var e=bt_rc_get_closest(t(".bt_rc_item").not(".bt_rc_drag").not(".bt_rc_drag .bt_rc_item"),_,i);if(e!=null){var c=bt_rc_get_position(e);window.bt_rc_from=bt_rc_drag_item.parent().data("reactid");window.bt_rc_to=e.parent().data("reactid");var n=bt_rc_drag_item.data("base");if(c=="inside"){var a=e.data("base");var s=e}else{var a=e.parent().closest(".bt_rc_item").data("base");var s=e.parent().closest(".bt_rc_item")}r=e;var d=false;if(e.parent().parent().hasClass("bt_rc_item_list")&&c!="inside"){if(window.bt_rc_map[n]!==undefined&&window.bt_rc_map[n].root===true){d=true}else{d=false}}else if(window.bt_rc_map[a]===undefined||window.bt_rc_map[a].accept===undefined){d=false}else if(window.bt_rc_map[a].accept[n]===true){d=true}else if(window.bt_rc_map[a].accept[n]===false){d=false}else if(window.bt_rc_map[a].accept_all===true){d=true}else if(window.bt_rc_map[a].accept_all===false){d=false}if(s.find(".bt_rc_horizontal").length>0){if(s.find(".bt_rc_horizontal")[0].children.length>=12){d=false}}if(d){if(c=="down"){window.bt_rc_action="move_down";o="down";if(r.parent().hasClass("bt_rc_width")){if(window.bt_rc_rtl){window.bt_rc_action="move_up"}o="right"}}else if(c=="up"){window.bt_rc_action="move_up";o="up";if(r.parent().hasClass("bt_rc_width")){if(window.bt_rc_rtl){window.bt_rc_action="move_down"}o="left"}}else if(c=="left"){window.bt_rc_action="move_up";if(window.bt_rc_rtl){window.bt_rc_action="move_down"}o="up";if(r.parent().hasClass("bt_rc_width"))o="left"}else if(c=="right"){window.bt_rc_action="move_down";if(window.bt_rc_rtl){window.bt_rc_action="move_up"}o="down";if(r.parent().hasClass("bt_rc_width"))o="right"}else if(c=="inside"){window.bt_rc_action="move_inside";o="inside"}}}}var b=[r,o];return b};window.bt_rc_point_coll=function(_,i,r){var o=_.offset().top-t(window).scrollTop();var e=_.offset().left;var c=_.innerWidth();var n=_.innerHeight();return bt_rc_point_coll_base(o,e,c,n,i,r)};window.bt_rc_point_coll_top=function(_,i,r){var o=_.offset().top-t(window).scrollTop();var e=_.offset().left;var c=_.innerWidth();var n=_.find(".bt_rc_toolbar").height()+window.bt_rc.padding*2;return bt_rc_point_coll_base(o,e,c,n,i,r)};window.bt_rc_point_coll_base=function(t,_,i,r,o,e){var c=[_,_,_+i,_+i];var n=[t,t+r,t+r,t];var a=true;var s,d,b;for(var l=0;l<4;l++){if(l==3){s=-(n[0]-n[l]);d=c[0]-c[l];b=-(s*c[l]+d*n[l])}else{s=-(n[l+1]-n[l]);d=c[l+1]-c[l];b=-(s*c[l]+d*n[l])}if(s*o+d*e+b>0){a=false}}return a};window.bt_rc_point_dist=function(_,i,r){var o=_.offset().top-t(window).scrollTop();var e=_.offset().left;var c=o+_.innerHeight();var n=e+_.innerWidth();if(i>e&&i<n&&r>o&&r<c){return Math.min(Math.min(Math.abs(r-o),Math.abs(r-c)),Math.min(Math.abs(i-e),Math.abs(i-n)))}else if(i>e&&i<n){return Math.min(Math.abs(r-o),Math.abs(r-c))}else if(r>o&&r<c){return Math.min(Math.abs(i-e),Math.abs(i-n))}else{return null}};window.bt_rc_get_closest=function(_,i,r){var o=1e5;var e=null;_.each(function(){var _=bt_rc_point_dist(t(this),i,r);if(_!=null&&_<=o){o=_;e=t(this)}});return e};window.bt_rc_get_position=function(_){var i=_.offset().top-t(window).scrollTop();var r=_.offset().left;var o=i+_.innerHeight();var e=r+_.innerWidth();if(bt_rc_mouse.y<i){var c="up"}else if(bt_rc_mouse.y>o){var c="down"}else if(bt_rc_mouse.x<r){var c="left"}else if(bt_rc_mouse.x>e){var c="right"}else{var c="inside"}return c};window.bt_rc_event=function(t){window.bt_rc_action=t;bt_rc_dispatch(".bt_rc_item_list","bt_rc_event")};window.bt_rc_resize_dialog=function(){t("#bt_rc_dialog .bt_rc_dialog_content").css("max-height",Math.round(t(window).innerHeight()*.7-100));t("#bt_rc_dialog").css("width",Math.round(t(window).width()*.5)+"px");t("#bt_rc_dialog").dialogOnScreen()};window.bt_rc_init_dialog=function(){window.bt_rc_resize_dialog();var _=localStorage.getItem("bt_rc_dialog_left");var i=localStorage.getItem("bt_rc_dialog_top");if(_&&i){t("#bt_rc_dialog").css("left",_);t("#bt_rc_dialog").css("top",i)}else{var r=t("#bt_rc_dialog").width();t("#bt_rc_dialog").css("left",Math.round((t(window).width()-r)*.5));t("#bt_rc_dialog").css("top","")}t("#bt_rc_dialog").dialogOnScreen()};t(window).resize(function(){window.bt_rc_resize_dialog()});t.fn.dialogOnScreen=function(){var _=t(window).width();var i=t(window).height();var r=t("#bt_rc_dialog").width();var o=t("#bt_rc_dialog").height();var e=parseFloat(t("#bt_rc_dialog").css("top"));var c=parseFloat(t("#bt_rc_dialog").css("left"));if(c>_-150){t("#bt_rc_dialog").css("left",_-150)}else if(c+r<150){t("#bt_rc_dialog").css("left",150-r)}else if(e<0){t("#bt_rc_dialog").css("top",0)}else if(e>i-40){t("#bt_rc_dialog").css("top",i-40)}}})(jQuery);var bt_json_encode=function(t){var _=/[\b\t\n\f\r\\\"\/\u00A1-\uFFFF]/g;var i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","/":"\\/"};_.lastIndex=0;return _.test(t)?'"'+t.replace(_,function(t){var _=i[t];return typeof _==="string"?_:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'};if(!String.prototype.startsWith){String.prototype.startsWith=function(t,_){_=_||0;return this.lastIndexOf(t,_)===_}}if(!String.prototype.endsWith){String.prototype.endsWith=function(t,_){var i=this.toString();if(typeof _!=="number"||!isFinite(_)||Math.floor(_)!==_||_>i.length){_=i.length}_-=t.length;var r=i.indexOf(t,_);return r!==-1&&r===_}}var bt_rc_create_dom_element=function(t,_){var i=document.createElement(t);var r;for(var o=0;o<_.length;o++){r=document.createAttribute(_[o][0]);r.value=_[o][1];i.setAttributeNode(r)}return i};